{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\nconst PUBLIC_FILE = /\\.(.*)$/;\nconst locales = ['en', 'ru', 'ua'];\nconst defaultLocale = 'en';\n\nfunction getLocale(request: NextRequest): string {\n  const acceptLanguage = request.headers.get('accept-language');\n  const lang = acceptLanguage?.split(',')[0]?.split('-')[0]?.toLowerCase();\n  return locales.includes(lang || '') ? lang! : defaultLocale;\n}\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  if (pathname.startsWith('/_next') || pathname.startsWith('/api') || PUBLIC_FILE.test(pathname)) {\n    return NextResponse.next();\n  }\n\n  const matchedLocale = locales.find((locale) => pathname.startsWith(`/${locale}`));\n  if (matchedLocale) {\n    const response = NextResponse.next();\n    response.headers.set('x-current-locale', matchedLocale);\n    return response;\n  }\n\n  const locale = getLocale(request);\n  console.log('Redirecting to locale:', locale);\n\n  const url = request.nextUrl.clone();\n  url.pathname = `/${locale}${pathname}`;\n  return NextResponse.redirect(url);\n}\n\nexport const config = {\n  matcher: ['/((?!_next|api|favicon.ico|favicon.svg|.*\\\\..*).*)'],\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,UAAU;IAAC;IAAM;IAAM;CAAK;AAClC,MAAM,gBAAgB;AAEtB,SAAS,UAAU,OAAoB;IACrC,MAAM,iBAAiB,QAAQ,OAAO,CAAC,GAAG,CAAC;IAC3C,MAAM,OAAO,gBAAgB,MAAM,IAAI,CAAC,EAAE,EAAE,MAAM,IAAI,CAAC,EAAE,EAAE;IAC3D,OAAO,QAAQ,QAAQ,CAAC,QAAQ,MAAM,OAAQ;AAChD;AAEO,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,IAAI,SAAS,UAAU,CAAC,aAAa,SAAS,UAAU,CAAC,WAAW,YAAY,IAAI,CAAC,WAAW;QAC9F,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;IAEA,MAAM,gBAAgB,QAAQ,IAAI,CAAC,CAAC,SAAW,SAAS,UAAU,CAAC,CAAC,CAAC,EAAE,QAAQ;IAC/E,IAAI,eAAe;QACjB,MAAM,WAAW,6LAAA,CAAA,eAAY,CAAC,IAAI;QAClC,SAAS,OAAO,CAAC,GAAG,CAAC,oBAAoB;QACzC,OAAO;IACT;IAEA,MAAM,SAAS,UAAU;IACzB,QAAQ,GAAG,CAAC,0BAA0B;IAEtC,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;IACjC,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,SAAS,UAAU;IACtC,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;AAC/B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAqD;AACjE"}}]
}